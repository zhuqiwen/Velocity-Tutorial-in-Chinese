# Velocity Courses

By Wing Ming Chan

## 致谢

## 简介

有很多人认为Casvade Velocity挺简单。那么试试下列的任务，看看你能完成几个？这些任务都可以用纯Velocity代码完成，按照由易到难排列。

1. 创建并提交一个format，不包含可执行代码。
2. 给定一个任意type的Java对象，展示这个对象的type相关信息。
3. 用`$_XPathTool.selectNodes`选定一个node。
4. 在一段宏里，将一个全局变量设为不可访问，用`$set`创建。
5. 用`#foreach`实现一个while循环。
6. 假设对于某一个宏，某个全局变量名（全局变量A）是未知的；为这个宏写一段代码，当传入A的名称时，能够将A的值存储在另一个全局变量里（全局变量B）。
7. 用4行代码to stall Velocity（暂不理解）。
8. 在不使用`#if`的情况下，模拟一个switch结构。
9. 检查对象X是否是Y的一个实例（Y可以是接口或类）。
10. 使用`StringBuffer`对象存储字符串的方式来消除空白字符
11. 创建一个当前月的日历
12. 找到某个format的位置
13. 使用某个类的缺省constructor创建一个对象
14. 将一个format转换成一个XML block（请勿照字面意思理解）
15. 将一个XML block转换成一个format（请勿照字面意思理解）
16. 获取某个format的代码
17. 获取一个宏的代码，这个宏定义在某个format中
18. 用code产生code
19. 解析一段XML字符串，并将其转换为一个`org.jdom.Element`对象
20. 给定一个变量`$currentPage`，其指向一个合法对象， 从这个变量中获取此对象的content type, metadata set, configuration set 以及data definition。
21. 查询或修改Cascade database
22. 在不对某个table（存在于Cascade database）做任何select操作的情况下，显示这个表包含的列名
23. 给定一个`org.jdom.Element`类型的node，显示这个node的所有合法XPath表达式及其所有的后代。
24. 给定一个形如`54763ffe8b7ffe83552dce4f30290433`的ID字符串，从中获取相应的Cascade API对象；此对象有可能是一个page，一个block，一个folder，一个symlink，一个file或一个reference
25. 假定某个block和format绑定在某个page的同一region，在这个format里用代码找到这个block的位置（使用Locator Tool，且不允许hard-code这个block的path和site-name），以便于访问这个block的metadata；换言之，给定任意site的任意block，这段代码都能正常工作。
26. 在Velocity里复用XSLT formats
27. 写一个宏递归，计算Fibonacci数列的第n项。
28. 实现one-region template master-site design
29. 实现multiple-design master site

## 教程

## 练习



